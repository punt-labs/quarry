{"id":"ocr-1fi","title":"Epic 6: Multi-Index Management","description":"First-class support for organizing documents into collections.\n\n- Named indices with isolated storage\n- Per-index configuration (embedding model, chunk size)\n- Cross-index search\n- Index metadata and statistics","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T09:19:18.015614-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T18:45:07.315467-08:00","closed_at":"2026-02-08T18:45:07.315467-08:00","close_reason":"Epic 6 complete: collections support across model, database, pipeline, MCP, and CLI. 8 commits, 198 tests."}
{"id":"ocr-4ry","title":"Fix f-string log formatting in pipeline.py","description":"pipeline.py has 11 progress() calls using f-strings that pass through _make_progress() to logger.info(message). This defeats lazy evaluation. Refactor _make_progress to accept format string + args, or convert callers to use %s-style formatting. See NON-FUNCTIONAL-DESIGN.md logging format standard.","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T12:11:59.136548-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T12:30:15.66313-08:00","closed_at":"2026-02-08T12:30:15.66313-08:00","close_reason":"Closed"}
{"id":"ocr-62k","title":"Epic 8: Ingestion Performance","description":"Scalable ingestion for 1000s of documents. Content hashing for skip-if-unchanged, directory registration with incremental re-indexing, parallel multi-document ingestion, exponential backoff for Textract polling. Depends on Epic 6 (complete).","status":"open","priority":1,"issue_type":"feature","owner":"jmf@pobox.com","created_at":"2026-02-08T19:41:16.158214-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T19:41:20.556443-08:00"}
{"id":"ocr-66p","title":"Epic 7: Package Distribution and CLI Setup","description":"Turn quarry-mcp into a proper installable Python package with setup/diagnostic CLI commands.\n\n## Package Distribution\n- Publish to PyPI (or at minimum, installable via `pip install .` / `uv pip install .`)\n- Entry point script so `quarry` command works after install (no `uv run python -m quarry`)\n- Clean dependency specification in pyproject.toml (separate core vs optional deps)\n\n## CLI Commands\n- `quarry install`: First-run setup — download embedding model, create data directory, verify AWS credentials, configure MCP server registration\n- `quarry doctor`: Diagnostic command — check Python version, verify dependencies installed, test AWS connectivity, verify embedding model cached, check LanceDB path writable, report MCP server status","status":"closed","priority":2,"issue_type":"feature","owner":"jmf@pobox.com","created_at":"2026-02-08T13:43:59.64367-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T13:59:31.50876-08:00","closed_at":"2026-02-08T13:59:31.50876-08:00","close_reason":"Implemented: version management, data path fix, doctor command, install command"}
{"id":"ocr-axj","title":"Epic 2: Text Document Ingestion","description":"Direct ingestion of text-based formats without OCR.\n\n- Plain text files (.txt)\n- Markdown (.md)\n- LaTeX (.tex)\n- DOCX (via python-docx or similar)\n- Configurable page/section boundary detection\n- String ingestion: ingest raw text/markdown/HTML from clipboard, web pages, or chat context (no file required)","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T09:19:14.846313-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T11:11:59.562506-08:00","closed_at":"2026-02-08T11:11:59.562506-08:00","close_reason":"Text document ingestion implemented: .txt, .md, .tex, .docx files + raw string ingestion via MCP"}
{"id":"ocr-bww","title":"Add missing Raises: docstring sections","description":"Multiple public functions raise or propagate exceptions but lack Raises: docstring sections. Files: ocr_client.py (ocr_pdf_pages), embeddings.py (embed_texts, embed_query), database.py (get_db, insert_chunks, search, get_page_text, delete_document), text_processor.py (process_text_file — missing FileNotFoundError, UnicodeDecodeError), pdf_analyzer.py (analyze_pdf), text_extractor.py (extract_text_pages). See NON-FUNCTIONAL-DESIGN.md Rule 5.","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T12:11:59.136979-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T12:30:15.667497-08:00","closed_at":"2026-02-08T12:30:15.667497-08:00","close_reason":"Closed"}
{"id":"ocr-cdv","title":"Add status/health tool to MCP server","description":"local-rag exposes a status tool (document count, chunk count, memory usage, search mode). Quarry should expose similar diagnostics.\n\n- Total documents and chunks\n- Database path and size on disk\n- Embedding model name and dimension\n- Uptime or version","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T10:12:58.767725-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T10:29:34.964385-08:00","closed_at":"2026-02-08T10:29:34.964385-08:00","close_reason":"Closed"}
{"id":"ocr-cjs","title":"Add exception handling at system boundaries","description":"All 6 MCP tool handlers in mcp_server.py and all 4 CLI commands in __main__.py let raw tracebacks escape to users. Each boundary handler should catch expected exceptions (FileNotFoundError, ValueError, RuntimeError, TimeoutError), log with logger.exception(), and return user-friendly messages. See NON-FUNCTIONAL-DESIGN.md Rule 7.","status":"closed","priority":1,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T12:11:59.13632-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T12:21:55.714433-08:00","closed_at":"2026-02-08T12:21:55.714433-08:00","close_reason":"Closed"}
{"id":"ocr-ekd","title":"Fix resource leaks: try/finally around fitz.open","description":"pdf_analyzer.py:14 and text_extractor.py:25 open fitz.open() without try/finally. If an exception occurs during page iteration, the PDF handle leaks. Wrap in try/finally with doc.close() in the finally block. See NON-FUNCTIONAL-DESIGN.md Rule 6.","status":"closed","priority":1,"issue_type":"bug","owner":"jmf@pobox.com","created_at":"2026-02-08T12:11:59.143001-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T12:21:55.712416-08:00","closed_at":"2026-02-08T12:21:55.712416-08:00","close_reason":"Closed"}
{"id":"ocr-jlo","title":"Epic 3: Image Format Support","description":"OCR for standalone image files (not wrapped in PDF).\n\n- Common formats: PNG, JPG, TIFF, BMP, WebP\n- Single-image and batch ingestion\n- Image preprocessing for OCR quality (deskew, contrast)","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T09:19:15.290644-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T12:55:01.240407-08:00","closed_at":"2026-02-08T12:55:01.240407-08:00","close_reason":"Closed"}
{"id":"ocr-k7h","title":"Expose delete_document via MCP and CLI","description":"The database layer has delete_document() but it is not exposed through the MCP server or CLI. local-rag exposes delete_file — quarry should too.\n\n- Add delete_document tool to MCP server\n- Add 'quarry delete \u003cdocument_name\u003e' CLI command\n- Confirm deletion returns feedback (e.g. chunk count removed)","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T10:12:56.56393-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T10:29:34.962562-08:00","closed_at":"2026-02-08T10:29:34.962562-08:00","close_reason":"Closed"}
{"id":"ocr-kfb","title":"Epic 5: Ingestion Quality","description":"Post-processing to improve extracted text quality.\n\n- LLM-based OCR error correction\n- Chunk quality scoring and filtering\n- Duplicate and near-duplicate detection\n- Table and figure extraction","status":"open","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T09:19:17.214071-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T09:19:17.214071-08:00"}
{"id":"ocr-l5s","title":"Add DEBUG logging to database search/query functions","description":"database.py search() and get_page_text() lack DEBUG logging. Add logger.debug for query parameters (limit, document_filter) and result counts. See NON-FUNCTIONAL-DESIGN.md DEBUG-level standard.","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T12:11:59.139247-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T12:30:15.666118-08:00","closed_at":"2026-02-08T12:30:15.666118-08:00","close_reason":"Closed"}
{"id":"ocr-lh5","title":"Epic 4: Audio Transcription","description":"Speech-to-text ingestion for audio content.\n\n- Audio format support: MP3, WAV, M4A, FLAC\n- AWS Transcribe or Whisper integration\n- Speaker diarization\n- Timestamped chunks for source reference","status":"open","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T09:19:16.247327-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T09:19:16.247327-08:00"}
{"id":"ocr-o9k","title":"Add loggers and DEBUG logging to I/O modules","description":"pdf_analyzer.py, text_extractor.py, and text_processor.py do file I/O but have no logger. Add logger = logging.getLogger(__name__) and DEBUG-level logs for: page classification decisions and thresholds (pdf_analyzer), extraction operations (text_extractor), format detection and section split counts (text_processor). See NON-FUNCTIONAL-DESIGN.md.","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-02-08T12:11:59.141752-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-02-08T12:30:15.664803-08:00","closed_at":"2026-02-08T12:30:15.664803-08:00","close_reason":"Closed"}
